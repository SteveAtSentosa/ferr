# Repository Guidelines

## Project Structure & Module Organization
- `src/`: TypeScript source (`index.ts`, `fErr.ts`, `errorUtils.ts`, `ferrUtils.ts`).
- `dist/`: compiled CJS/ESM output (generated by `pnpm build`; do not edit directly).
- `tests/`: Vitest tests (`ferr.test.ts`).
- `vizualize/`: visualization helpers (not part of the main build).

## Build, Test, and Development Commands
- `pnpm build`: cleans `dist/` and builds CJS/ESM bundles with tsup.
- `pnpm build:tests`: type-checks tests via `tsconfig.test.json`.
- `pnpm test`: runs the Vitest suite.
- `pnpm test:verbose`: runs Vitest with verbose reporting.
- `pnpm clean`: deletes the generated `dist/` directory.
- `pnpm clean:all`: removes build output, `node_modules`, and `pnpm-lock.yaml`.
- `pnpm sanity`: build → type-check tests → test.

## Coding Style & Naming Conventions
- Indentation: 2 spaces (enforced by ESLint).
- Style: ESLint + TypeScript ESLint rules (see `eslint.config.js`).
- Files: lowerCamelCase for module filenames (e.g., `errorUtils.ts`).
- Exports: class-first and utility naming (e.g., `FErr`, `throwFerr`, `rethrowFerr`, `throwIfUndefined`).

## Testing Guidelines
- Framework: Vitest.
- Test files live in `tests/` and use `*.test.ts` naming.
- Run all tests with `pnpm test` before submitting changes.

## Commit & Pull Request Guidelines
- Commit messages are short, imperative, and often reference versions or a brief change summary (e.g., `add wrapper-style throw/rethrow ferr APIs`, `2.1.14`).
- PRs should include:
  - A clear summary of behavior changes.
  - Test coverage notes (what ran, what changed).
  - Any API or behavior impact called out explicitly.

## Security & Configuration Notes
- This package targets Node via tsup + TypeScript. Avoid adding browser-only dependencies without justification.
- Keep `dist/` out of reviews unless the change is specifically about build output.
